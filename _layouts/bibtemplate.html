---
---
<div class="publication-entry">
  <div class="reference">
    {{reference}}
  </div>

  <div class="action-buttons">
    <button class="pub-btn bibtex-btn" onclick="toggleSection('bibtex-{{entry.key}}')">
      BibTeX
    </button>

    {% if entry.abstract %}
    <button class="pub-btn abstract-btn" onclick="toggleSection('abstract-{{entry.key}}')">
      Abstract
    </button>
    {% endif %}

    {% if entry.doi %}
    <a href="{{ entry.doi | prepend: 'http://doi.org/' }}" class="pub-btn doi-btn">
      DOI
    </a>
    {% endif %}

    {% if entry.preprint %}
    <a href="{{ entry.preprint }}" class="pub-btn preprint-btn">
      Preprint
    </a>
    {% endif %}

    {% if entry.link %}
    <a href="{{ entry.link }}" class="pub-btn link-btn">
      Link
    </a>
    {% endif %}

    {% if entry.code %}
    <a href="{{ entry.code }}" class="pub-btn code-btn">
      Code
    </a>
    {% endif %}
  </div>

  <div id="bibtex-{{entry.key}}" class="collapsible bibtex-section">
    <pre>{{entry.bibtex}}</pre>
  </div>

  {% if entry.abstract %}
  <div id="abstract-{{entry.key}}" class="collapsible abstract-section">
    <h4>Abstract</h4>
    <p>{{entry.abstract}}</p>
  </div>
  {% endif %}
</div>

<style>
.publication-entry {
  margin-bottom: 2em;
  padding: 1em;
  border-left: 3px solid #1F416F;
}

.reference {
  margin-bottom: 1em;
  line-height: 1.4;
}

.action-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5em;
  margin: 1em 0;
}

.pub-btn {
  display: inline-flex;
  align-items: center;
  padding: 0.5em 1em;
  border: 1px solid #1F416F;
  border-radius: 4px;
  background: transparent;
  color: #1F416F;
  font-size: 0.9em;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.pub-btn:hover {
  background: #1F416F;
  color: white;
}

.collapsible {
  display: none;
  margin-top: 1em;
  padding: 1em;
  background: #f5f5f5;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.collapsible.active {
  display: block;
  opacity: 1;
}

.abstract-section h4 {
  margin-top: 0;
  color: #1F416F;
}

.bibtex-section pre {
  margin: 0;
  padding: 1em;
  background: white;
  border-radius: 3px;
  font-size: 0.9em;
  overflow-x: auto;
}
</style>

<script>
function toggleSection(id) {
  const section = document.getElementById(id);
  const isActive = section.classList.contains('active');
  
  if (isActive) {
    section.classList.remove('active');
    setTimeout(() => {
      section.style.display = 'none';
    }, 300);
  } else {
    section.style.display = 'block';
    requestAnimationFrame(() => {
      section.classList.add('active');
    });
  }
}
</script>